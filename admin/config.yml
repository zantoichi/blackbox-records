local_backend: true

backend:
  name: github
  repo: zantoichi/blackbox-records
  branch: main
  base_url: https://api.netlify.com
  auth_endpoint: auth

commit_messages:
  create: "feat(content): create {{collection}}/{{slug}}"
  update: "chore(content): update {{collection}}/{{slug}}"
  delete: "chore(content): delete {{collection}}/{{slug}}"
  uploadMedia: "chore(media): upload {{path}}"
  deleteMedia: "chore(media): delete {{path}}"
  openAuthoring: "chore(content): open {{collection}}/{{slug}}"

media_folder: "assets/images/uploads"
public_folder: "/assets/images/uploads"

collections:
  - name: pages
    label: Pages
    files:
      - name: home
        label: Home
        file: index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: default }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
          - { label: Main Class, name: main_class, widget: hidden, default: page-main-content-region--home }
          - { label: Body Class, name: body_class, widget: hidden, default: home-scroll-snap-container }
      - name: artists
        label: Artists
        file: artists/index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: default }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
          - { label: Section Label, name: section_label, widget: string, required: false }
      - name: news
        label: News
        file: news/index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: default }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
          - { label: Section Label, name: section_label, widget: string, required: false }
      - name: releases
        label: Releases
        file: releases/index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: default }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
          - { label: Section Label, name: section_label, widget: string, required: false }
      - name: about
        label: About
        file: about/index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: default }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
      - name: shop
        label: Shop
        file: shop/index.md
        fields:
          - { label: Layout, name: layout, widget: hidden, default: redirect }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: string, required: false }
          - { label: Section Label, name: section_label, widget: string, required: false }
          - { label: Redirect URL, name: redirect_url, widget: string, required: false }
  - name: home_content
    label: Home Content
    files:
      - name: home
        label: Home Sections
        file: _data/home.yml
        fields:
          - label: Hero
            name: hero
            widget: object
            fields:
              - { label: Tagline, name: tagline, widget: text }
              - { label: Primary Button Text, name: primary_button_text, widget: string }
              - { label: Primary Button Link, name: primary_button_link, widget: string }
              - { label: Secondary Button Text, name: secondary_button_text, widget: string }
              - { label: Secondary Button Link, name: secondary_button_link, widget: string }
          - label: Latest Releases
            name: latest_releases
            widget: object
            fields:
              - { label: Section Label, name: section_label, widget: string }
              - { label: Title, name: title, widget: string }
              - { label: Link Text, name: link_text, widget: string }
              - { label: Link URL, name: link_url, widget: string }
          - label: Artists Section
            name: artists
            widget: object
            fields:
              - { label: Section Label, name: section_label, widget: string }
              - { label: Title, name: title, widget: string }
              - { label: Button Text, name: button_text, widget: string }
              - { label: Button Link, name: button_link, widget: string }
          - label: News Section
            name: news
            widget: object
            fields:
              - { label: Section Label, name: section_label, widget: string }
              - { label: Title, name: title, widget: string }
              - { label: Link Text, name: link_text, widget: string }
              - { label: Link URL, name: link_url, widget: string }
          - label: Journey Section
            name: journey
            widget: object
            fields:
              - { label: Section Label, name: section_label, widget: string }
              - { label: Title, name: title, widget: string }
              - label: Image
                name: image
                widget: image
                media_folder: "/assets/images/backgrounds"
                public_folder: "/assets/images/backgrounds"
              - { label: Image Description, name: image_alt, widget: string, required: false }
              - label: Paragraphs
                name: paragraphs
                widget: list
                field: { label: Paragraph, name: paragraph, widget: text }
              - label: Stats
                name: stats
                widget: list
                fields:
                  - label: Type
                    name: key
                    widget: select
                    options:
                      - { label: Artists (auto), value: artists }
                      - { label: Releases (auto), value: releases }
                      - { label: Countries (auto), value: countries }
                      - { label: Year (auto), value: year }
                      - { label: Custom (manual), value: custom }
                  - { label: Value, name: value, widget: string, required: false }
                  - { label: Label, name: label, widget: string }
  - name: releases
    label: Releases
    label_singular: Release
    folder: _releases
    create: true
    slug: "{{slug}}"
    summary: "{{title}}"
    fields:
      - { label: Layout, name: layout, widget: hidden, default: release }       
      - { label: Title, name: title, widget: string }
      - label: Artist (from roster)
        name: artist_slug
        widget: relation
        collection: artists_roster
        file: artists
        search_fields: ["items.*.name", "items.*.slug"]
        display_fields: ["items.*.name"]
        value_field: "items.*.slug"
        hint: "Select an artist from the roster."
      - { label: Release Date, name: release_date, widget: datetime, format: "YYYY-MM-DD", time_format: false, hint: "Date only (YYYY-MM-DD)." }
      - label: Cover Image
        name: cover_image
        widget: image
        media_folder: "/assets/images/releases"
        public_folder: "/assets/images/releases"
      - { label: Cover Description, name: cover_image_alt, widget: string, required: false }
      - label: Merch Collection URL (Fourthwall)
        name: merch_url
        widget: string
        required: false
        hint: "Optional. Use a Fourthwall collection or product URL."
      - label: Bandcamp Player Embed URL
        name: bandcamp_embed_url
        widget: string
        required: false
        hint: "Paste the Bandcamp embed src URL (from the iframe). Instructions: https://get.bandcamp.help/hc/en-us/articles/23020711574423-How-do-I-create-a-Bandcamp-embedded-player"
        pattern:
          [
            "^https?://bandcamp\\.com/EmbeddedPlayer/.*",
            "Use the Bandcamp embed src URL (https://bandcamp.com/EmbeddedPlayer/...)."
          ]
      - label: Tidal Player Embed URL
        name: tidal_url
        widget: string
        required: false
        hint: "Paste the Tidal embed src URL (from the iframe). Instructions: https://developer.tidal.com/documentation/embeds/embeds-overview"
        pattern:
          [
            "^https?://embed\\.tidal\\.com/.*",
            "Use the Tidal embed src URL (https://embed.tidal.com/...)."
          ]
      - { label: Summary, name: summary, widget: text, required: false }
      - label: Formats (optional)
        name: formats
        widget: list
        required: false
        hint: "Examples: Vinyl LP, CD, Digital."
      - label: Credits (optional)
        name: credits
        widget: list
        required: false
        fields:
          - { label: Role, name: role, widget: string }
          - { label: Name, name: name, widget: string }
  - name: news
    label: News
    label_singular: News Story
    folder: _news
    create: true
    slug: "{{slug}}"
    summary: "{{title}}"
    fields:
      - { label: Layout, name: layout, widget: hidden, default: news }
      - { label: Title, name: title, widget: string }
      - { label: Date, name: date, widget: datetime, format: "YYYY-MM-DD", time_format: false, hint: "Date only (YYYY-MM-DD)." }
      - { label: Section Label, name: section_label, widget: string, required: false, hint: "Optional short tag, e.g. Updates, News." }
      - { label: Summary, name: summary, widget: text, hint: "1â€“2 sentence summary used in cards." }
      - label: Image
        name: image
        widget: image
        media_folder: "/assets/images/news"
        public_folder: "/assets/images/news"
      - { label: Image Description, name: image_alt, widget: string, required: false, hint: "Short alt text for accessibility." }
      - { label: Body, name: body, widget: markdown, hint: "Main story content." }
  - name: about_content
    label: About Content
    files:
      - name: about
        label: About Page
        file: _data/about.yml
        fields:
          - label: Hero
            name: hero
            widget: object
            fields:
              - { label: Section Label, name: section_label, widget: string }
              - { label: Title, name: title, widget: string }
              - label: Image
                name: image
                widget: image
                media_folder: "/assets/images/backgrounds"
                public_folder: "/assets/images/backgrounds"
              - { label: Image Description, name: image_alt, widget: string, required: false }
          - { label: Lead, name: lead, widget: text }
          - label: Sections
            name: sections
            widget: list
            fields:
              - { label: Title, name: title, widget: string }
              - label: Paragraphs
                name: paragraphs
                widget: list
                field: { label: Paragraph, name: paragraph, widget: text }
          - label: Quote
            name: quote
            widget: object
            fields:
              - { label: Text, name: text, widget: text }
              - { label: Cite, name: cite, widget: string }
          - label: Contact
            name: contact
            widget: object
            fields:
              - { label: Title, name: title, widget: string }
              - { label: Intro, name: intro, widget: text }
              - label: Items
                name: items
                widget: list
                fields:
                  - { label: Label, name: label, widget: string }
                  - { label: Value, name: value, widget: string }
          - label: Stats
            name: stats
            widget: list
            fields:
              - label: Type
                name: key
                widget: select
                options:
                  - { label: Artists (auto), value: artists }
                  - { label: Releases (auto), value: releases }
                  - { label: Countries (auto), value: countries }
                  - { label: Year (auto), value: year }
                  - { label: Custom (manual), value: custom }
              - { label: Value, name: value, widget: string, required: false }
              - { label: Label, name: label, widget: string }
  - name: newsletter
    label: Newsletter
    files:
      - name: newsletter
        label: Newsletter Content
        file: _data/newsletter.yml
        fields:
          - { label: Section Label, name: section_label, widget: string }
          - { label: Title, name: title, widget: string }
          - { label: Description, name: description, widget: text }
          - { label: Placeholder, name: placeholder, widget: string }
          - { label: Button Label, name: button_label, widget: string }
          - { label: Note, name: note, widget: text }
  - name: data
    label: Site Data
    files:
      - name: navigation
        label: Navigation
        file: _data/nav.yml
        fields:
          - label: Items
            name: items
            widget: list
            fields:
              - { label: Title, name: title, widget: string }
              - { label: URL, name: url, widget: string }
      - name: socials
        label: Social Links
        file: _data/socials.yml
        fields:
          - label: Items
            name: items
            widget: list
            fields:
              - { label: Title, name: title, widget: string }
              - { label: URL, name: url, widget: string }
  - name: artists_roster
    label: Artists Roster
    files:
      - name: artists
        label: Artists
        file: _data/artists.yml
        fields:
          - label: Items
            name: items
            widget: list
            summary: "{{fields.name}}"
            fields:
              - { label: Name, name: name, widget: string }
              - { label: Slug (used in URLs), name: slug, widget: string }
              - { label: Genre / Style, name: genre, widget: string }
              - { label: Country, name: country, widget: string, required: false }
              - label: Image
                name: image
                widget: image
                media_folder: "/assets/images/artists"
                public_folder: "/assets/images/artists"
              - { label: Image Description, name: image_alt, widget: string, required: false }
              - { label: Bio, name: bio, widget: text }
              - { label: Upcoming Release (optional), name: upcoming_release, widget: string, required: false }
  - name: settings
    label: Site Settings
    files:
      - name: settings
        label: Settings
        file: _data/settings.yml
        fields:
          - { label: Established Year, name: established_year, widget: number }
